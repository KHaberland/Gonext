# Gonext
# PROJECT.md  

## Мобильное приложение GoNext — Дневник туриста
---

## 1. Общее описание проекта

«Дневник туриста» — это мобильное приложение, предназначенное для планирования поездок и ведения личного дневника путешествий.

Приложение:
- работает **полностью офлайн**
- запускается на **мобильном телефоне**
- хранит **все данные локально на устройстве пользователя**
- не требует регистрации и серверной части (MVP)

Основная идея:  
> от абстрактного списка мест → к конкретным поездкам → к живому дневнику путешествий.

---

## 2. Цели приложения

- Хранить список интересных мест для будущих поездок
- Планировать конкретные маршруты поездок
- Превращать план поездки в реальный дневник по мере посещения мест
- Быстро показывать пользователю, **какое место следующее по маршруту**
- Удобно открывать это место на карте или в навигаторе

---

## 3. Платформа и общие ограничения

- Тип приложения: **мобильное**
- Фреймворк: React Native
- сервис отладки: Expo
- маршруты: Expo Router
- библиотека компонентов: React Native Paper
- Платформы: Android и iOS
- Хранение данных: SQLite
- Должно работать без интернета
- Геолокация: используется для навигации и карт
- Транскрипция речи: **офлайн**, на устройстве (например, встроенные API платформы или встроенная модель), без отправки в облако

---

## 4. Основные режимы работы приложения

Приложение имеет **три ключевых режима**.

---

## 4.1 Режим «Места»

### Назначение
Хранилище мест, которые пользователь хочет посетить когда-нибудь или уже посещал.

Это не привязано к конкретной поездке.

### Сущность: Place (Место)

Поля:
- `id`
- `name` — название места
- `description` — описание
- `visitLater` — boolean, место для будущего посещения
- `liked` — boolean, понравилось
- `dd` — Decimal Degrees, GPS-координаты
- `photos[]` — список фотографий
- `recordings[]` — список голосовых записей (диктофон), см. п. 4.4
- `createdAt` — дата и время создания

### Возможности:
- Добавить новое место
- Просмотреть список мест
- Открыть место на карте
- Прикрепить фотографии
- Записать голосовую заметку (диктофон) и по желанию транскрибировать в текст
- Использовать место позже при создании поездки

---

## 4.2 Режим «Поездки»

### Назначение
Поездка — это **конкретный маршрут** с датами и упорядоченным списком мест.

Изначально это **план**, который со временем превращается в **дневник путешествия**.

### Сущность: Trip (Поездка)

Поля:
- `id`
- `title` — название поездки
- `description` — описание поездки
- `startDate` — дата начала
- `endDate` — дата окончания
- `places[]` — упорядоченный список мест
- `createdAt` — дата и время создания
- `current` — boolean, признак текущей поездки

---

### Сущность: TripPlace (Место в поездке)

Отличается от обычного места тем, что хранит **факт посещения**.

Поля:
- `placeId`
- `order` — порядок в маршруте
- `visited` — boolean
- `visitDate` — дата визита
- `notes` — текстовые заметки
- `photos[]` — фото, сделанные во время посещения
- `recordings[]` — голосовые записи (диктофон), см. п. 4.4

---

### Возможности:
- Создать поездку
- Задать даты
- Добавить места (из базы мест или новые)
- Изменять порядок маршрута
- Отмечать места как посещённые
- Добавлять заметки, фотографии и голосовые записи (с опциональной транскрипцией)
- Просматривать поездку как:
  - план будущей поездки
  - дневник завершённой поездки

---

## 4.3 Режим «Следующее место»

### Назначение
Быстрый доступ к **следующему месту**, которое предстоит посетить в текущей поездке.

---

### Логика работы:
1. Берётся активная поездка
2. Из списка мест выбирается:
   - первое место с `visited = false`
3. Это место считается **следующим**

---

### Возможности:
- Показать информацию о следующем месте
- Открыть место:
  - на карте
  - в навигаторе (Google Maps / системный навигатор)

---

## 4.4 Диктофон и транскрипция

### Назначение
Пользователь может записывать голосовые заметки в контексте места (режим «Места») или посещённого места в поездке (режим «Поездки»). По желанию запись можно **транскрибировать в текст** — распознавание речи выполняется **полностью офлайн** на устройстве.

### Сущность: Recording (Голосовая запись)

Поля:
- `id`
- `audioUri` — путь к файлу аудиозаписи (локальное хранилище)
- `transcribedText` — текст расшифровки (опционально, заполняется по запросу пользователя)
- `createdAt` — дата и время записи
- Связь: с Place или с TripPlace

### Сценарий работы
1. Пользователь нажимает «Записать» и говорит.
2. Запись сохраняется как аудиофайл и привязывается к месту/к точке маршрута.
3. Пользователь может прослушать запись.
4. **По желанию** пользователь запускает «Транскрибировать» — приложение распознаёт речь на устройстве и сохраняет текст в `transcribedText`. Интернет не используется.

### Технические требования
- Запись аудио: стандартные API платформы (Android/iOS).
- Транскрипция: офлайн-движок на устройстве (например, платформенные API с офлайн-пакетами или встроенная лёгкая модель). Реализация — в рамках MVP на усмотрение (приоритет: работа без интернета).

---

## 5. Навигация внутри приложения

Все компоненты берутся из библиотеки React Native Paper.

Главный экран включает:
- Название приложения: GoNext
- Вертикальный ряд кнопок:
  - Места
  - Поездки
  - Следующее место
  - Настройки

Основные экраны:
- Список мест
- Детальная карточка места
- Список поездок
- Детали поездки (маршрут)
- Экран «Следующее место»

Навигация — простая, мобильная, без вложенных сложных меню.

---

## 6. Хранение данных

- Все данные хранятся **локально**
- Используется одна локальная база данных
- Связи:
  - Trip → TripPlaces → Place
  - Place / TripPlace → Recordings[] (голосовые записи)
- Фотографии хранятся локально, в файловой системе приложения
- Аудиозаписи диктофона хранятся локально; текст транскрипции — в БД (поле записи)

---

## 7. Будущее развитие (не MVP)

- Экспорт поездки в PDF
- Резервное копирование
- Синхронизация между устройствами
- Совместные поездки
- Статистика путешествий
- Отображение маршрута на карте целиком

---
